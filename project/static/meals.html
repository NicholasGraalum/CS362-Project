<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Smart Cart</title>
    <link rel="stylesheet" href="style.css">
  </head>

  <body>
    <header>
      <div class="site-title">
        <a href="#">Smart Cart</a>
      </div>
      <div class="topbar">
        <button id="list-viewer" class="action-button">List</button>
        <button id="profile-viewer" class="action-button">Profile</button>
        <button id="settings-viewer" class="action-button">Settings</button>
      </div>
    </header>
    
    <main>
    <div class="meals-bar">
      <h2>Meals</h2>
      <h2><button id="search-meals">Search Meals</button></h2>
      <h2><button id="create-meal">Create Meal</button></h2>
    </div>

    <div class="meal-grid" id="all-meal-grid">

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

      <div class="meal" 
        data-id=001
        data-name="Chicken and Rice"
        data-servings=5
        data-mealType="dinner"
        data-categoryTags="non-vegetarian"
        data-ingredients="chicken"
        data-description="Simple chicken and rice"
      >
        <a href="/meals/001">
          <img src="https://easyhealthyrecipes.com/wp-content/uploads/2022/06/grilled-chicken-rice-16-1024x1536.jpg" alt="chicken and rice">
          <p><a href="/meals/001">Chicken and Rice</a></p>
          <button class="add-ingredients-button">+</button>
        </a>
      </div>

    </div>

    </main>

    <div id="search-modal" class="modal">
      <div class="modal-content">
        <span id="close-search-modal" class="close-button">&times;</span>
        <h2>Search Meals</h2>
        <form id="search-form">
          <div class="form-group">
            <label for="meal-name">Meal Name:</label>
            <input type="text" id="meal-name" name="meal-name" placeholder="Enter meal name">
          </div>
          <div class="form-group">
            <label>Meal Type:</label>
            <div>
              <label><input type="checkbox" name="meal-type" value="breakfast"> Breakfast</label>
              <label><input type="checkbox" name="meal-type" value="lunch"> Lunch</label>
              <label><input type="checkbox" name="meal-type" value="dinner"> Dinner</label>
              <label><input type="checkbox" name="meal-type" value="snack"> Snack</label>
            </div>
          </div>
          <div class="form-group">
            <label>Category Tags:</label>
            <div>
              <label><input type="checkbox" name="category-tags" value="vegan"> Vegan</label>
              <label><input type="checkbox" name="category-tags" value="vegetarian"> Vegetarian</label>
              <label><input type="checkbox" name="category-tags" value="high-protein"> High Protein</label>
              <label><input type="checkbox" name="category-tags" value="low-calorie"> Low Calorie</label>
              <label><input type="checkbox" name="category-tags" value="gluten-free"> Gluten Free</label>
            </div>
          </div>
          <button type="submit" class="submit-button">Search</button>
        </form>
      </div>
    </div>
    
    <script>
        // JavaScript for opening and closing the modal. Eventually put in index.js
        const openModalButton = document.getElementById("search-meals");
        const closeModalButton = document.getElementById("close-search-modal");
        const modal = document.getElementById("search-modal");
        const searchForm = document.getElementById("search-form");

        openModalButton.onclick = function() {
            modal.style.display = "block";
        }

        closeModalButton.onclick = function() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        searchForm.onsubmit = function(event) {
          event.preventDefault(); // Prevent default form submission

          // Add search logic

          console.log('Form submitted with values:', {
            mealName: document.getElementById("meal-name").value,
            mealTypes: [...document.querySelectorAll('input[name="meal-type"]:checked')].map(cb => cb.value),
            categoryTags: [...document.querySelectorAll('input[name="category-tags"]:checked')].map(cb => cb.value),
          });

          // Close the modal after submitting
          modal.style.display = "none";
        }
    </script>

  </body>
</html>