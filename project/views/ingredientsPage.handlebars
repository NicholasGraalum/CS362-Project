{{!-- <main>
    <div class="ingredients-bar">
      <h2>Ingredients</h2>
      <h2><button id="search-ingredients">Search Ingredients</button></h2>
    </div>
    <div class="ingredients-grid" id="all-ingredients-grid">
        {{#each ingredients}}
        {{> ingredient}}
        {{/each}}
    </div>
</main>

{{> searchIngredientsModal}} --}}
{{!-- 
<main>
  <div class="ingredient-search" style="display: flex; align-items: center; margin-bottom: 20px;">
    <input type="text" id="ingredient-search-input" placeholder="Enter ingredient" style="flex: 1; padding: 8px;">
    <button id="ingredient-search-button" style="padding: 8px 16px; margin-left: 10px;">Search</button>
  </div>

  <div class="ingredient-results">
    {{#if products}}
      {{#each products}}
        <div class="ingredient-box" style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
          <img src="{{image_link}}" alt="Picture of {{name}}" style="max-width: 100px; display: block; margin-bottom: 10px;">
          <p style="font-weight: bold;">{{name}}</p>
          <p>Price: ${{price}}</p>
          <button class="add-ingredients-button" data-id="{{id}}" style="padding: 6px 12px;">Add to List</button>
        </div>
      {{/each}}
    {{else}}
      <p>No ingredients found. Please search for an ingredient.</p>
    {{/if}}
  </div>
</main> --}}

<main id="page" data-mealId={{mealId}}>
  <div class="ingredient-search" style="display: flex; align-items: center; margin-bottom: 20px;">
    {{#if mealId}}
      <form action="/ingredients/meal/{{mealId}}/search" method="GET" style="display: flex; width: 100%;">
        <input type="text" name="ingredient" id="ingredient-search-input" placeholder="Enter ingredient" style="flex: 1; padding: 8px;">
        <button type="submit" id="ingredient-search-button" style="padding: 8px 16px; margin-left: 10px;">Search</button>
      </form>
    {{else}}
      <form action="/ingredients/search" method="GET" style="display: flex; width: 100%;">
        <input type="text" name="ingredient" id="ingredient-search-input" placeholder="Enter ingredient" style="flex: 1; padding: 8px;">
        <button type="submit" id="ingredient-search-button" style="padding: 8px 16px; margin-left: 10px;">Search</button>
      </form>
    {{/if}}
  </div>

  <div class="ingredient-results">
    {{#if products}}
      {{#each products}}
        <div class="ingredient-box" style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
          <img src="{{image_link}}" alt="Picture of {{name}}" style="max-width: 100px; display: block; margin-bottom: 10px;">
          <p style="font-weight: bold;">{{name}}</p>
          <p>Price: ${{price}}</p>
          {{#if ../mealId}}
            <button class="add-to-meal-button" data-id="{{id}}" style="padding: 6px 12px;">Add to Recipe</button>
            <input type="number" class="quantity-input" placeholder="Grams" min="1" style="padding: 6px; width: 80px;">
          {{else}}
            <button class="add-ingredients-button" data-id="{{id}}" style="padding: 6px 12px;">Add to List</button>
          {{/if}}
        </div>
      {{/each}}
    {{else}}
      <p>No ingredients found. Please search for an ingredient.</p>
    {{/if}}
  </div>
</main>